<div class="min-h-screen pt-8 pb-24 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
  <app-ui-container customClass="p-8">
    <!-- Header -->
    <div class="mb-8 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between">
      <div>
        <h1 class="text-3xl font-bold text-white">Manager Dashboard</h1>
        <p class="mt-2 text-gray-400">Manage your projects and events</p>
      </div>
      <div class="flex flex-wrap gap-4">
        <a routerLink="/manager/groupbuy/create">
          <app-ui-btn variant="primary">
            <span class="material-icons text-sm mr-2">add</span>
            New Project
          </app-ui-btn>
        </a>
        <a routerLink="/manager/event/create">
          <app-ui-btn variant="primary">
            <span class="material-icons text-sm mr-2">event</span>
            New Event
          </app-ui-btn>
        </a>
      </div>
    </div>

    <!-- Admin Notice -->
    @if (isAdmin()) {
      <div
        class="mb-8 rounded-xl border border-blue-500/20 bg-blue-500/10 p-6 text-blue-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6"
      >
        <div>
          <div class="flex items-center gap-2 font-semibold text-blue-100 text-lg">
            <span class="material-icons text-blue-400">admin_panel_settings</span>
            System Administrator Access
          </div>
          <p class="mt-1 text-sm text-blue-200/70">
            Global access to manage users, content, and settings.
          </p>
        </div>

        <div class="flex flex-wrap gap-3">
          <a routerLink="/manager/users">
            <app-ui-btn
              variant="secondary"
              customClass="!bg-blue-500/20 !border-blue-400/30 !text-blue-100 hover:!bg-blue-500/30"
            >
              <span class="material-icons text-sm mr-2">people</span>
              Manage Users
            </app-ui-btn>
          </a>
          <a routerLink="/admin/categories">
            <app-ui-btn
              variant="secondary"
              customClass="!bg-blue-500/20 !border-blue-400/30 !text-blue-100 hover:!bg-blue-500/30"
            >
              <span class="material-icons text-sm mr-2">category</span>
              Category Templates
            </app-ui-btn>
          </a>
          <a routerLink="/admin/price-templates">
            <app-ui-btn
              variant="secondary"
              customClass="!bg-blue-500/20 !border-blue-400/30 !text-blue-100 hover:!bg-blue-500/30"
            >
              <span class="material-icons text-sm mr-2">price_change</span>
              Price Templates
            </app-ui-btn>
          </a>
        </div>
      </div>
    }

    <!-- Projects Section -->
    <section class="mb-12">
      <h2 class="mb-4 text-xl font-semibold text-white">
        {{ isAdmin() ? 'All Projects' : 'My Projects' }}
      </h2>
      @if (projects().length === 0) {
        <div class="rounded-xl border border-white/5 bg-white/5 p-12 text-center">
          <span class="material-icons mx-auto mb-4 block text-4xl text-gray-600">inventory_2</span>
          <h3 class="text-lg font-medium text-white">No projects found</h3>
          <p class="mt-2 text-gray-400">Get started by creating your first group buy project.</p>
        </div>
      } @else {
        <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
          @for (project of projects(); track project.id) {
            <div
              class="group relative overflow-hidden rounded-xl border border-white/5 bg-white/5 p-6 transition-all hover:border-white/10 hover:bg-white/10"
            >
              <div class="mb-4 flex items-start justify-between">
                <div class="rounded-lg bg-blue-500/10 px-3 py-1 text-xs font-medium text-blue-400">
                  {{ getProjectStatus(project.status) }}
                </div>
                <span class="text-xs text-gray-500"
                  >Created {{ toDate(project.createdAt) | date }}</span
                >
              </div>
              <h3 class="mb-2 text-lg font-bold text-white">{{ project.title }}</h3>
              <p class="mb-6 line-clamp-2 text-sm text-gray-400">{{ project.description }}</p>

              <a [routerLink]="['/manager/groupbuy', project.id]">
                <app-ui-btn variant="outline" customClass="w-full"> Manage Project </app-ui-btn>
              </a>
            </div>
          }
        </div>
      }
    </section>

    <!-- Events Section -->
    <section>
      <h2 class="mb-4 text-xl font-semibold text-white">
        {{ isAdmin() ? 'All Events' : 'My Events' }}
      </h2>
      @if (events().length === 0) {
        <div class="rounded-xl border border-white/5 bg-white/5 p-12 text-center">
          <span class="material-icons mx-auto mb-4 block text-4xl text-gray-600">event</span>
          <h3 class="text-lg font-medium text-white">No events found</h3>
          <p class="mt-2 text-gray-400">Host your first event to engage with your community.</p>
        </div>
      } @else {
        <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
          @for (event of events(); track event.id) {
            <div
              class="group relative overflow-hidden rounded-xl border border-white/5 bg-white/5 p-6 transition-all hover:border-white/10 hover:bg-white/10"
            >
              <div class="mb-4 flex items-start justify-between">
                <div
                  class="rounded-lg bg-purple-500/10 px-3 py-1 text-xs font-medium text-purple-400"
                >
                  {{ getEventStatus(event.status) }}
                </div>
                <span class="text-xs text-gray-500">{{ toDate(event.startTime) | date }}</span>
              </div>
              <h3 class="mb-2 text-lg font-bold text-white">{{ event.title }}</h3>
              <p class="mb-6 line-clamp-2 text-sm text-gray-400">{{ event.description }}</p>

              <a [routerLink]="['/manager/event', event.id]">
                <app-ui-btn variant="outline" customClass="w-full"> Manage Event </app-ui-btn>
              </a>
            </div>
          }
        </div>
      }
    </section>
  </app-ui-container>
</div>
